{% extends "base.html" %}
{% import "macros.html" as macros with context %}

{% block body %}
<title>Home</title>
{% if current_user.is_authenticated %}
<div>
  <p class="h3">Tasks</p>
  <a class="link badge badge-custom" onclick="toggleDiv('taskCreateForm')">+ New Task</a>
  <div id="taskCreateForm" style="display:none" class="pt-2">{{ macros.task_create_form() }}</div>
  <div class="row">
    {% for i in current_user.get_tasks()[:3] %}
    {{ macros.task_tile(i) }}
    {% endfor %}
  </div>
</div>
<div class="pt-5">
  <p class="h3">Notes</p>
  <a class="link badge badge-custom" onclick="toggleDiv('noteCreateForm')">+ New Note</a>
  <div id="noteCreateForm" style="display:none" class="pt-2">{{ macros.note_create_form() }}</div>
  <div class="row">
    {% for i in current_user.get_notes()[:3] %}
    {{ macros.note_tile(i) }}
    {% endfor %}
  </div>
</div>
<div class="pt-5">
  <p class="h3">Events</p>
  <a class="link badge badge-custom" onclick="toggleDiv('eventCreateForm')">+ New Event</a>
  <div id="eventCreateForm" style="display:none" class="pt-2">{{ macros.event_create_form() }}</div>
  <div class="row">
    {% for i in current_user.get_events()[:3] %}
    {{ macros.event_tile(i) }}
    {% endfor %}
  </div>
</div>
{% endif %}
{% endblock %}