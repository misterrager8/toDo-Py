{% extends "base.html" %}
{% import "macros.html" as macros with context %}

{% block body %}
<title>Tasks</title>
<a class="link badge badge-custom" onclick="toggleDiv('taskCreateForm')">+ New Task</a>
<div id="taskCreateForm" style="display:none" class="pt-2">{{ macros.task_create_form() }}</div>
<div class="row">
  {% for i in current_user.get_tasks() %}
  {{ macros.task_tile(i) }}
  {% endfor %}
</div>

{% if current_user.get_tasks(filter_='done is True').count() > 0 %}
<a class="link badge badge-custom mt-5" onclick="toggleDiv('done')">Show Done</a>
<div class="row" style="display:none" id="done">
  {% for i in current_user.get_tasks(filter_='done is True') %}
  {{ macros.task_tile(i) }}
  {% endfor %}
</div>
{% endif %}
{% endblock %}