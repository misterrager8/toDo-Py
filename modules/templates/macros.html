<!--Paragraph-->
{% macro paragraph(text, class='', size=1) %}
<!--suppress ALL-->
<p class="{{ class }}" style="font-size:{{ size }}em">{{ text }}</p>
{% endmacro %}

<!--Link-->
{% macro link(href='#', style='', color='black', newtab=false, modal_id='', class='', tooltip='') %}
<a href="{{ href }}"
   style="text-decoration:none; color:{{ color }}; {{ style }}"
   class="{{ class }}"
   title="{{ tooltip }}"
   {% if newtab %}
   target="_blank"
   {% endif %}

   {% if modal_id %}
   data-toggle="modal"
   data-target="#{{ modal_id }}"
   {% endif %}
>
  {{ caller() }}
</a>
{% endmacro %}

<!--Button-->
{% macro button(text, bg_color='black', txt_color='white') %}
<button type="submit"
        class="btn w-100"
        style="background-color:{{ bg_color }}; color:{{ txt_color }}"
>
  {{ text }}
</button>
{% endmacro %}

<!--Generic Badge-->
{% macro badge(text, class='', bg_color='black', pill=false, newtab=false, modal_id='', href='', tooltip='') %}
<a class="badge {% if pill %}badge-pill{% endif %} {{ class }}"
   {% if href %}href="{{ href }}" {% endif %}
   title="{{ tooltip }}"
   style="
   text-decoration:none;
   color:white;
   background-color:{{ bg_color }};
   -webkit-text-stroke: 1px black;
   font-size:1.25em;"
   {% if newtab %}
   target="_blank"
   {% endif %}

   {% if modal_id %}
   data-toggle="modal"
   data-target="{{ modal_id }}"
   {% endif %}
>
  {{ text }}
</a>
{% endmacro %}

<!--Modal-->
{% macro modal(id, title='', lg=false) %}
<div class="modal" id="{{ id }}">
  <div class="modal-dialog {% if lg %}modal-lg{% endif %}">
    <div class="modal-content p-3">
      {% if title %}{{ paragraph(title, class='text-center m-3', size=3) }}{% endif %}
      {{ caller() }}
    </div>
  </div>
</div>
{% endmacro %}

<!--Dropdown-->
{% macro dropdown(text, class='') %}
<div class="dropdown {{ class }}">
  <a href="#" data-toggle="dropdown">{{ text }}</a>
  <div class="dropdown-menu">
    {{ caller() }}
  </div>
</div>
{% endmacro %}

<!--Input-->
{% macro input(name, placeholder, class='', value='') %}
<input type="text" autocomplete="off" class="form-control {{ class }}" name="{{ name }}" placeholder="{{ placeholder }}" value="{{ value }}">
{% endmacro %}

<!--Brand icon-->
{% macro brand_icon(size=25, color='white', tooltip='') %}
<svg xmlns="http://www.w3.org/2000/svg" title="{{ tooltip }}" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-check-all" viewBox="0 0 16 16">
  <path d="M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z"/>
</svg>
{% endmacro %}

<!--Add icon-->
{% macro add_icon(size=25, color='green', tooltip='') %}
<svg xmlns="http://www.w3.org/2000/svg" title="{{ tooltip }}" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-plus-circle" viewBox="0 0 16 16">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
  <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
</svg>
{% endmacro %}

<!--Delete icon-->
{% macro delete_icon(size=25, color='red', tooltip='') %}
<svg xmlns="http://www.w3.org/2000/svg" title="{{ tooltip }}" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-x-circle" viewBox="0 0 16 16">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
  <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
</svg>
{% endmacro %}

<!--Edit icon-->
{% macro edit_icon(size=25, color='black', tooltip='') %}
<svg xmlns="http://www.w3.org/2000/svg" title="{{ tooltip }}" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-pencil-square" viewBox="0 0 16 16">
  <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
  <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
</svg>
{% endmacro %}

<!--Reminder icon-->
{% macro reminder_icon(size=25, color='black', tooltip='') %}
<svg xmlns="http://www.w3.org/2000/svg" title="{{ tooltip }}" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-alarm" viewBox="0 0 16 16">
  <path d="M8.5 5.5a.5.5 0 0 0-1 0v3.362l-1.429 2.38a.5.5 0 1 0 .858.515l1.5-2.5A.5.5 0 0 0 8.5 9V5.5z"/>
  <path d="M6.5 0a.5.5 0 0 0 0 1H7v1.07a7.001 7.001 0 0 0-3.273 12.474l-.602.602a.5.5 0 0 0 .707.708l.746-.746A6.97 6.97 0 0 0 8 16a6.97 6.97 0 0 0 3.422-.892l.746.746a.5.5 0 0 0 .707-.708l-.601-.602A7.001 7.001 0 0 0 9 2.07V1h.5a.5.5 0 0 0 0-1h-3zm1.038 3.018a6.093 6.093 0 0 1 .924 0 6 6 0 1 1-.924 0zM0 3.5c0 .753.333 1.429.86 1.887A8.035 8.035 0 0 1 4.387 1.86 2.5 2.5 0 0 0 0 3.5zM13.5 1c-.753 0-1.429.333-1.887.86a8.035 8.035 0 0 1 3.527 3.527A2.5 2.5 0 0 0 13.5 1z"/>
</svg>
{% endmacro %}

<!--Calendar icon-->
{% macro calendar_icon(size=25, color='black', tooltip='') %}
<svg xmlns="http://www.w3.org/2000/svg" title="{{ tooltip }}" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-calendar-plus" viewBox="0 0 16 16">
  <path d="M8 7a.5.5 0 0 1 .5.5V9H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V10H6a.5.5 0 0 1 0-1h1.5V7.5A.5.5 0 0 1 8 7z"/>
  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
</svg>
{% endmacro %}

<!--Check icon-->
{% macro check_icon(done, size=25, tooltip='') %}
{% if done == true %}
<svg xmlns="http://www.w3.org/2000/svg" title="{{ tooltip }}" width="{{ size }}" height="{{ size }}" fill="green" class="bi bi-check-square" viewBox="0 0 16 16">
  <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
  <path d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"/>
</svg>
{% else %}
<svg xmlns="http://www.w3.org/2000/svg" title="{{ tooltip }}" width="{{ size }}" height="{{ size }}" fill="black" class="bi bi-square" viewBox="0 0 16 16">
  <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
</svg>
{% endif %}
{% endmacro %}

<!--Circle icon-->
{% macro circle_icon(size=25, color='black', tooltip='') %}
<svg xmlns="http://www.w3.org/2000/svg" title="{{ tooltip }}" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-circle-fill" viewBox="0 0 16 16">
  <circle cx="8" cy="8" r="8"/>
</svg>
{% endmacro %}

<!--User icon-->
{% macro user_icon(size=25, color='white', tooltip='') %}
<svg xmlns="http://www.w3.org/2000/svg" title="{{ tooltip }}" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-person-fill" viewBox="0 0 16 16">
  <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
</svg>
{% endmacro %}

<!--clear icon-->
{% macro clear_icon(size=25, color='black', tooltip='') %}
<svg xmlns="http://www.w3.org/2000/svg" title="{{ tooltip }}" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-stars" viewBox="0 0 16 16">
  <path d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z"/>
</svg>
{% endmacro %}

<!--Folder card-->
{% macro folder_card(folder) %}
<div class="card col-xl-4 border-0 rounded">
  <div class="card-body m-2 p-3 shadow-sm" style="background-color:{{ folder.color }}; border-radius:10px;">
    {% call link(modal_id='folder_info_%s'%folder.id, style='text-decoration:none; -webkit-text-stroke: 1px black; font-size: 1.25em; color:white;') %}{{ folder.name }}{% endcall %}
    {{ badge(folder.tasks|count|string, class='mx-2') }}
    <span class="float-right">
      {% call link(class='mx-1', modal_id='task_create_%s'%folder.id) %}{{ add_icon(size=20) }}{% endcall %}
      {% call link(class='mx-1', modal_id='folder_update_%s'%folder.id) %}{{ edit_icon(size=20) }}{% endcall %}
      {% call link(class='mx-1', modal_id='folder_delete_%s'%folder.id) %}{{ delete_icon(size=20) }}{% endcall %}
    </span>
  </div>
  {{ folder_info(folder) }}

  {% call modal('task_create_%s'%folder.id, title='New Task') %}
  {{ task_create_form(folder) }}
  {% endcall %}

  {% call modal('folder_update_%s'%folder.id, title='Edit Folder') %}
  {{ folder_update_form(folder) }}
  {% endcall %}

  {% call modal('folder_delete_%s'%folder.id, title='Delete Folder?') %}
  {% call link(class='btn btn-dark text-light', href=url_for('folder_delete', id_=folder.id)) %}Delete{% endcall %}
  {% endcall %}
</div>
{% endmacro %}

<!--Task card-->
{% macro task_card(task) %}
<div class="card col-xl-12 border-0 rounded">
  <div class="card-body border my-2 p-3 shadow-sm" style="border-radius:10px;">
    {{ badge(task.get_priority()[0], bg_color=task.get_priority()[1], class='mx-2') }}
    {% call link(class='font-italic d-inline', style='color:black', modal_id='task_info_%s'%task.id) %}{{ task.name }}{% endcall %}
    {% if task.reminder %}{{ reminder_icon(size=17) }}{% endif %}
    <div class="float-right">
      {{ badge(task.folders.name, bg_color=task.folders.color ) }}
      {% call link(class='mx-1', modal_id='task_update_%s'%task.id) %}{{ edit_icon(size=20) }}{% endcall %}
      {% call link(class='mx-1', modal_id='task_delete_%s'%task.id) %}{{ delete_icon(size=20) }}{% endcall %}
    </div>
  </div>
  {{ task_info(task) }}

  {% call modal('task_update_%s'%task.id, title='Edit Task') %}
  {{ task_update_form(task) }}
  {% endcall %}

  {% call modal('task_delete_%s'%task.id, title='Delete Task?') %}
  {% call link(class='btn btn-dark text-light', href=url_for('task_delete', id_=task.id)) %}Delete{% endcall %}
  {% endcall %}
</div>
{% endmacro %}

<!--List card-->
{% macro list_item(list) %}
<div class="list-group-item list-group-item-action border-0" style="border-radius:10px;">
  {% call link(modal_id='list_info_%s'%list.id) %}{{ list.name }}{% endcall %}
  <div class="float-right">
    {% call link(modal_id='list_update_%s'%list.id, class='mx-1') %}{{ edit_icon(size=20) }}{% endcall %}
    {% call link(modal_id='list_delete_%s'%list.id, class='mx-1') %}{{ delete_icon(size=20) }}{% endcall %}
  </div>
</div>
<div>
  {{ list_info(list) }}
  {% call modal('list_update_%s'%list.id) %}{{ list_update_form(list) }}{% endcall %}
  {% call modal('list_delete_%s'%list.id, title='Delete?') %}{% call link(href=url_for('list_delete', id_=list.id), class='btn btn-danger', color='white') %}Delete{% endcall %}{% endcall %}
</div>
{% endmacro %}

<!--Habit card-->
{% macro habit_card(habit) %}
<div class="card col-xl-12 border-0 rounded">
  <div class="card-body border m-2 p-3 shadow-sm" style="border-radius:10px;">
    {% call link(class='font-italic d-inline mr-2', style='color:black', modal_id='habit_info_%s'%habit.id) %}{{ habit.name }}{% endcall %}
    <div class="float-right">
      {% call link(class='mx-1', modal_id='habit_update_%s'%habit.id) %}{{ edit_icon(size=20) }}{% endcall %}
      {% call link(class='mx-1', modal_id='habit_delete_%s'%habit.id) %}{{ delete_icon(size=20) }}{% endcall %}
    </div>
  </div>
  {{ habit_info(habit) }}

  {% call modal('habit_update_%s'%habit.id, title='Edit Habit') %}
  {{ habit_update_form(habit) }}
  {% endcall %}

  {% call modal('habit_delete_%s'%habit.id, title='Delete Habit?') %}
  {% call link(class='btn btn-dark text-light', href=url_for('habit_delete', id_=habit.id)) %}Delete{% endcall %}
  {% endcall %}
</div>
{% endmacro %}

<!--Task create form-->
{% macro task_create_form(folder='', class='') %}
<form class="form-group" method="POST" action="{{ url_for('task_create') }}">
  {{ input('name', 'Name', class='mb-2') }}
  <select class="form-control mb-2" name="priority">
    <option value="3">Low</option>
    <option value="2">Medium</option>
    <option value="1">High</option>
  </select>
  <textarea autocomplete="off" name="note" placeholder="Note" class="form-control mb-2" rows="10"></textarea>
  <select name="folder" class="form-control mb-2">
    <option>Select</option>
    {% for i in all_folders %}
    <option value="{{ i.id }}" {% if folder.id==i.id %}selected{% endif %}>{{ i.name }}</option>
    {% endfor %}
  </select>
  {{ button('Submit') }}
</form>
{% endmacro %}

<!--Task update form-->
{% macro task_update_form(task, class='') %}
<form class="form-group" method="POST" action="{{ url_for('task_update', id_=task.id) }}">
  {{ input('name', 'Name', class='mb-2', value=task.name) }}
  <select class="form-control mb-2" name="priority">
    <option value="3" {% if task.priority==3 %}selected{% endif %}>Low</option>
    <option value="2" {% if task.priority==2 %}selected{% endif %}>Medium</option>
    <option value="1" {% if task.priority==1 %}selected{% endif %}>High</option>
  </select>
  <textarea autocomplete="off" name="note" placeholder="Note" class="form-control mb-2" rows="10">{{ task.note }}</textarea>
  <select name="folder" class="form-control mb-2">
    <option>Select</option>
    {% for i in all_folders %}
    <option value="{{ i.id }}" {% if task.folder== i.id %}selected{% endif %}>{{ i.name }}</option>
    {% endfor %}
  </select>
  {{ button('Submit') }}
</form>
{% endmacro %}

<!--Folder create form-->
{% macro folder_create_form(class='') %}
<form class="form-group" method="POST" action="{{ url_for('folder_create') }}">
  {{ input('name', 'Name', class='mb-2') }}
  {{ button('Submit') }}
</form>
{% endmacro %}

<!--Folder update form-->
{% macro folder_update_form(folder, class='') %}
<form class="form-group" method="POST" action="{{ url_for('folder_update', id_=folder.id) }}">
  {{ input('name', 'Name', class='mb-2', value=folder.name) }}
  <input type="color" autocomplete="off" class="form-control mb-2" name="color" value="{{ folder.color }}">
  {{ button('Edit') }}
</form>
{% endmacro %}

<!--Habit create form-->
{% macro habit_create_form(class='') %}
<form class="form-group" method="POST" action="{{ url_for('habit_create') }}">
  {{ input('name', 'Name', class='mb-2') }}
  <select name="frequency" class="form-control mb-2">
    <option value="Daily">Daily</option>
    <option value="Weekly">Weekly</option>
    <option value="Monthly">Monthly</option>
  </select>
  {{ button('Submit') }}
</form>
{% endmacro %}

<!--Habit update form-->
{% macro habit_update_form(habit, class='') %}
<form class="form-group" method="POST" action="{{ url_for('habit_update', id_=habit.id) }}">
  {{ input('name', 'Name', class='mb-2', value=habit.name) }}
  <select name="frequency" class="form-control mb-2">
    <option value="Daily">Daily</option>
    <option value="Weekly">Weekly</option>
    <option value="Monthly">Monthly</option>
  </select>
  <input type="color" autocomplete="off" class="form-control mb-2" name="color" value="{{ habit.color }}">
  {{ button('Submit') }}
</form>
{% endmacro %}

<!--List create form-->
{% macro list_create_form(class='') %}
<form class="form-group" method="POST" action="{{ url_for('list_create') }}">
  {{ input('name', 'Name', class='mb-2') }}
  <textarea autocomplete="off" name="contents" placeholder="Contents" class="form-control mb-2" rows="10"></textarea>
  {{ button('Submit') }}
</form>
{% endmacro %}

<!--List update form-->
{% macro list_update_form(list, class='') %}
<form class="form-group" method="POST" action="{{ url_for('list_update', id_=list.id) }}">
  {{ input('name', 'Name', class='mb-2', value=list.name) }}
  <textarea autocomplete="off" name="contents" placeholder="Contents" class="form-control mb-2" rows="10">{{ list.contents }}</textarea>
  {{ button('Edit') }}
</form>
{% endmacro %}

<!--Folders Sort-->
{% macro folders_sort(class='') %}
<div class="list-inline {{ class }}">
  {{ paragraph('Sort by:', class='list-inline-item') }}
  {% if order_by != 'name' %}{{ badge('Name', class='list-inline-item', pill=true, bg_color='black', href=url_for('folders', order_by='name')) }}{% endif %}
  {% if order_by != 'date_created desc' %}{{ badge('Date Created', class='list-inline-item', pill=true, bg_color='black', href=url_for('folders', order_by='date_created desc')) }}{% endif %}
</div>
{% endmacro %}

<!--Tasks Sort-->
{% macro tasks_sort(class='') %}
<div class="list-inline {{ class }}">
  {{ paragraph('Sort by:', class='list-inline-item') }}
  {% if order_by != 'priority' %}{{ badge('Priority', class='list-inline-item', pill=true, bg_color='green', href=url_for('tasks', order_by='priority')) }}{% endif %}
  {% if order_by != 'tasks.date_created desc' %}{{ badge('Date Created', class='list-inline-item', pill=true, bg_color='green', href=url_for('tasks', order_by='tasks.date_created desc')) }}{% endif %}
  {% if order_by != 'folders.name' %}{{ badge('Folder', class='list-inline-item', pill=true, bg_color='green', href=url_for('tasks', order_by='folders.name')) }}{% endif %}
</div>
{% endmacro %}

<!--Lists Sort-->
{% macro lists_sort(class='') %}
<div class="list-inline {{ class }}">
  {{ paragraph('Sort by:', class='list-inline-item') }}
  {% if order_by != 'date_created desc' %}{{ badge('Date Created', class='list-inline-item', pill=true, bg_color='purple', href=url_for('lists', order_by='date_created desc')) }}{% endif %}
  {% if order_by != 'date_updated desc' %}{{ badge('Date Updated', class='list-inline-item', pill=true, bg_color='purple', href=url_for('lists', order_by='date_updated desc')) }}{% endif %}
</div>
{% endmacro %}

<!--Folder Info-->
{% macro folder_info(folder) %}
<div>
  {% call modal('folder_info_%s'%folder.id, title=folder.name) %}
  {% endcall %}
</div>
{% endmacro %}

<!--Task Info-->
{% macro task_info(task) %}
<div>
  {% call modal('task_info_%s'%task.id, title=task.name) %}
  {% endcall %}
</div>
{% endmacro %}


<!--Habit Info-->
{% macro habit_info(habit) %}
<div>
  {% call modal('habit_info_%s'%habit.id, title=habit.name) %}
  {% endcall %}
</div>
{% endmacro %}

<!--List Info-->
{% macro list_info(list) %}
<div>
  {% call modal('list_info_%s'%list.id, title=list.name) %}
  {% for i in list.get_items() %}
  <div>{{ '%s. '%loop.index }}{{ i }}</div>
  {% endfor %}
  {% endcall %}
</div>
{% endmacro %}