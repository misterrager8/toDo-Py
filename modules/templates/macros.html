<!--Title Div-->
{% macro paragraph(text, class='', size=1) %}
<!--suppress ALL-->
<p class="m-0 {{ class }}" style="font-size:{{ size }}em">{{ text }}</p>
{% endmacro %}

<!--Unstyled Anchor Text-->
{% macro link(href='#', color='black', newtab=false, modal_id='', class='') %}
<a href="{{ href }}"
   style="text-decoration:none; color:{{ color }};"
   class="m-0 {{ class }}"
   {% if newtab %}
   target="_blank"
   {% endif %}

   {% if modal_id %}
   data-toggle="modal"
   data-target="#{{ modal_id }}"
   {% endif %}
>
  {{ caller() }}
</a>
{% endmacro %}

<!--Button-->
{% macro button(text, bg_color='black', txt_color='white') %}
<button type="submit"
        class="btn btn-lg"
        style="backround-color:{{ bg_color }}; color:{{ txt_color }}"
>
  {{ text }}
</button>
{% endmacro %}

<!--Generic Badge-->
{% macro badge(text, class='', txt_color='black', bg_color='white', pill=false, newtab=false, modal_id='', href='') %}
<a class="badge {% if pill %}badge-pill{% endif %} {{ class }}"
   {% if href %}href="{{ href }}" {% endif %}
   style="text-decoration:none; color:{{ txt_color }}; background-color:{{ bg_color }};"
   {% if newtab %}
   target="_blank"
   {% endif %}

   {% if modal_id %}
   data-toggle="modal"
   data-target="{{ modal_id }}"
   {% endif %}
>
  {{ text }}
</a>
{% endmacro %}

{% macro modal(id, lg=false) %}
<div class="modal" id="{{ id }}">
  <div class="modal-dialog {% if lg %}modal-lg{% endif %}">
    <div class="modal-content p-3">
      {{ caller() }}
    </div>
  </div>
</div>
{% endmacro %}

{% macro dropdown(text) %}
<div class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">{{ text }}</a>
  <div class="dropdown-menu">
    {{ caller() }}
  </div>
</div>
{% endmacro %}

<!--Circle Icon-->
{% macro circle_icon(size=25, color='black') %}
<svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-circle-fill" viewBox="0 0 16 16">
  <circle cx="8" cy="8" r="8"/>
</svg>
{% endmacro %}

<!--Add Icon-->
{% macro add_icon(size=25, color='green') %}
<svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-plus-circle" viewBox="0 0 16 16">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
  <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
</svg>
{% endmacro %}

<!--Delete Icon-->
{% macro delete_icon(size=25, color='red') %}
<svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-x-circle" viewBox="0 0 16 16">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
  <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
</svg>
{% endmacro %}

<!--Folder Ctrl Panel-->
{% macro folder_ctrl_panel(folder) %}
<div>
  {% call link() %}{{ add_icon() }}{% endcall %}
  {% call link() %}{{ delete_icon() }}{% endcall %}
</div>
{% endmacro %}

<!--Sort Filter-->
{% macro folders_sort_filter() %}
<div class="list-inline"></div>
{% endmacro %}

<!--Task Card-->
{% macro task_card(task) %}
<div class="card col-4 border-0">
  <div class="m-2 border rounded">
    <div class="pb-0 card-header d-flex justify-content-between">
      {% call link(href=url_for('index')) %}{{ paragraph(task.title) }}{% endcall %}
      <p class="py-2 {{ task.get_priority()[1] }}">{{ task.get_priority()[0] }}</p>
    </div>
    <div class="card-body">
      {{ task.notes }}
      <span class="{{ task.get_done()[1] }}">{{ task.get_done()[0] }}</span>
    </div>
    <div class="card-footer">
      <small>{{ task.date_added.strftime("%m/%d/%Y") }}</small>
    </div>
  </div>
</div>
{% endmacro %}

<!--Folder List Item-->
{% macro folder_list_item(folder) %}
<div class="list-group-item list-group-item-action d-flex justify-content-between border-0 rounded">
  <div class="list-inline">
    <div class="list-inline-item">{{ circle_icon(size=20, color=folder.color) }}</div>
    {% call link(href=url_for('folder_items', id_=folder.id), class='list-inline-item') %}{{ paragraph(folder.name) }}{% endcall %}
  </div>
  {{ paragraph(folder.date_created.strftime("%m/%d/%Y"), size=0.8) }}
</div>
{% endmacro %}

<!--Add Task Modal-->
{% macro add_task_modal(folder) %}
<div class="modal" id="add_task_modal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">New Task</h5>
        <button type="button" class="close" data-dismiss="modal">
          <span>Ã—</span>
        </button>
      </div>
      <div class="modal-body">
        <form class="form-group add-form" method="POST" action="{{ url_for('folder_items', id_=folder.id) }}">
          <input name="task_title" type="text" class="form-control" placeholder="Task Title" autocomplete="off">
          <input name="task_notes" type="text" class="form-control" placeholder="Notes" autocomplete="off">
          <select name="priority" class="custom-select">
            <option value="3">Low</option>
            <option value="2">Medium</option>
            <option value="1">High</option>
          </select>
          <button type="submit" class="btn btn-secondary col-6 offset-3">Add</button>
        </form>
      </div>
    </div>
  </div>
</div>
{% endmacro %}

<!--Delete Folder Modal-->
{% macro delete_folder_modal(folder) %}
<div class="modal" id="delete_folder_modal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      {{ paragraph('Delete Folder?') }}
      <a class="btn btn-danger" href="{{ url_for('delete_folder', id_=folder.id) }}">Delete</a>
    </div>
  </div>
</div>
{% endmacro %}